<!DOCTYPE html>
<html>
<head>
  <base target="_top">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!--
    ============================================
    Council-AI GAS Sidebar - ê°œë°œì ë…¸íŠ¸
    ============================================
    
    [ì˜ˆìƒë˜ëŠ” ì½˜ì†” ê²½ê³  - ëª¨ë‘ ë¬´ì‹œí•´ë„ ì•ˆì „í•¨]
    
    1. "Unrecognized feature: 'ambient-light-sensor/speaker/vibrate/vr'"
       â†’ GAS Iframeì˜ Permissions Policyì—ì„œ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê¸°ëŠ¥ë“¤ì…ë‹ˆë‹¤.
       â†’ ì™¸ë¶€ CDN ìŠ¤í¬ë¦½íŠ¸ê°€ ì´ ê¸°ëŠ¥ë“¤ì„ ê°ì§€í•˜ë ¤ê³  ì‹œë„í•  ë•Œ ë°œìƒí•©ë‹ˆë‹¤.
       â†’ ê¸°ëŠ¥ì— ì˜í–¥ ì—†ìŒ.
    
    2. "cdn.tailwindcss.com should not be used in production"
       â†’ TailwindCSS CDN ì‚¬ìš© ê²½ê³ ì…ë‹ˆë‹¤.
       â†’ GAS í™˜ê²½ì—ì„œëŠ” ë¹Œë“œ ì‹œìŠ¤í…œ ì—†ì´ CDN ì‚¬ìš©ì´ ê°€ì¥ ì‹¤ìš©ì ì…ë‹ˆë‹¤.
       â†’ ë‚´ë¶€ ë„êµ¬ì´ë¯€ë¡œ ë¬´ì‹œí•´ë„ ë©ë‹ˆë‹¤.
    
    3. "net::ERR_FAILED (invalid/:1)"
       â†’ GAS Iframeì˜ CSPë¡œ ì¸í•´ ì¼ë¶€ ë¦¬ì†ŒìŠ¤ ìš”ì²­ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤.
       â†’ í•µì‹¬ ê¸°ëŠ¥(Tailwind, Marked, Highlight.js)ì€ ì •ìƒ ë¡œë“œë©ë‹ˆë‹¤.
    
    4. "IntlV8BreakIterator is deprecated"
       â†’ Chrome ë‚´ë¶€ API ê²½ê³ ì…ë‹ˆë‹¤. ë¬´ì‹œí•´ë„ ë©ë‹ˆë‹¤.
    ============================================
  -->
  
  <!-- 
    TailwindCSS v3.4.16 (CDN - ìµœì‹  ì•ˆì • ë²„ì „)
    âš ï¸ NOTE: ì½˜ì†”ì— "cdn.tailwindcss.com should not be used in production" ê²½ê³ ê°€ í‘œì‹œë˜ì§€ë§Œ,
    ì´ëŠ” GAS Add-on í™˜ê²½ì—ì„œ ë¹Œë“œ ì‹œìŠ¤í…œ ì—†ì´ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì˜ë„ì  ì„ íƒì…ë‹ˆë‹¤.
    GAS ì‚¬ì´ë“œë°”ëŠ” ë‚´ë¶€ ë„êµ¬ì´ë¯€ë¡œ í”„ë¡œë•ì…˜ ë¹Œë“œê°€ ë¶ˆí•„ìš”í•©ë‹ˆë‹¤.
    ì´ ê²½ê³ ëŠ” ê¸°ëŠ¥ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šìœ¼ë¯€ë¡œ ë¬´ì‹œí•´ë„ ì•ˆì „í•©ë‹ˆë‹¤.
  -->
  <script src="https://cdn.tailwindcss.com/3.4.16"></script>
  
  <!-- Marked.js v4.3.0 for Markdown rendering (cdnjs) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.3.0/marked.min.js"></script>
  
  <!-- Highlight.js for code syntax highlighting (ê³µì‹ CDN) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  
  <!-- Google Picker API -->
  <script src="https://apis.google.com/js/api.js"></script>
  
  <script>
    // TailwindCSS ì»¤ìŠ¤í…€ ì„¤ì •
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'google-blue': '#1a73e8',
            'google-blue-dark': '#1557b0',
            'google-gray': '#5f6368',
            'google-light': '#f1f3f4',
          }
        }
      }
    }
    
    // Marked.js ì„¤ì • (highlight.js ì—°ë™)
    document.addEventListener('DOMContentLoaded', function() {
      if (typeof marked !== 'undefined' && typeof hljs !== 'undefined') {
        marked.setOptions({
          highlight: function(code, lang) {
            if (lang && hljs.getLanguage(lang)) {
              try {
                return hljs.highlight(code, { language: lang }).value;
              } catch (e) {}
            }
            return hljs.highlightAuto(code).value;
          },
          breaks: true,
          gfm: true
        });
      }
    });
  </script>
  
  <style>
    /* ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ */
    ::-webkit-scrollbar {
      width: 6px;
      height: 6px;
    }
    ::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 3px;
    }
    ::-webkit-scrollbar-thumb {
      background: #c1c1c1;
      border-radius: 3px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: #a1a1a1;
    }
    
    /* ì±„íŒ… ë©”ì‹œì§€ ë§ˆí¬ë‹¤ìš´ ìŠ¤íƒ€ì¼ */
    .chat-message code {
      background-color: #f1f3f4;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 0.875em;
    }
    .chat-message pre {
      background-color: #1e1e1e;
      color: #d4d4d4;
      padding: 12px;
      border-radius: 8px;
      overflow-x: auto;
      margin: 8px 0;
    }
    .chat-message pre code {
      background: none;
      padding: 0;
      color: inherit;
    }
    .chat-message ul, .chat-message ol {
      margin-left: 1.5em;
      margin-top: 0.5em;
      margin-bottom: 0.5em;
    }
    .chat-message li {
      margin-bottom: 0.25em;
    }
    
    /* ë¡œë”© ìŠ¤í”¼ë„ˆ */
    .spinner {
      border: 3px solid #f3f3f3;
      border-top: 3px solid #1a73e8;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    /* í† ìŠ¤íŠ¸ ì• ë‹ˆë©”ì´ì…˜ */
    .toast-enter {
      animation: slideIn 0.3s ease-out;
    }
    .toast-exit {
      animation: slideOut 0.3s ease-in forwards;
    }
    @keyframes slideIn {
      from { transform: translateY(-100%); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    @keyframes slideOut {
      from { transform: translateY(0); opacity: 1; }
      to { transform: translateY(-100%); opacity: 0; }
    }
    
    /* ë²„íŠ¼ ë¹„í™œì„±í™” ìŠ¤íƒ€ì¼ */
    button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    
    /* íƒ­ íŠ¸ëœì§€ì…˜ */
    .tab-content {
      display: none !important;
    }
    .tab-content.active {
      display: block !important;
      animation: fadeIn 0.2s ease-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    /* Highlight.js ì½”ë“œ ë¸”ë¡ ê°œì„  */
    .chat-message pre {
      position: relative;
    }
    .chat-message pre .code-lang {
      position: absolute;
      top: 4px;
      right: 8px;
      font-size: 10px;
      color: #888;
      text-transform: uppercase;
    }
    .chat-message pre .copy-btn {
      position: absolute;
      top: 4px;
      right: 60px;
      padding: 2px 8px;
      font-size: 10px;
      background: #333;
      color: #aaa;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      opacity: 0;
      transition: opacity 0.2s;
    }
    .chat-message pre:hover .copy-btn {
      opacity: 1;
    }
    .chat-message pre .copy-btn:hover {
      background: #444;
      color: #fff;
    }
    
    /* Source ë§í¬ ìŠ¤íƒ€ì¼ */
    .source-item {
      padding: 8px 12px;
      margin: 4px 0;
      background: #f8f9fa;
      border-left: 3px solid #1a73e8;
      border-radius: 0 6px 6px 0;
      transition: all 0.2s;
    }
    .source-item:hover {
      background: #e8f0fe;
      transform: translateX(2px);
    }
    .source-link {
      color: #1a73e8;
      text-decoration: none;
      font-weight: 500;
    }
    .source-link:hover {
      text-decoration: underline;
    }
    .source-section {
      font-size: 11px;
      color: #666;
      margin-top: 2px;
    }
    .source-score {
      display: inline-block;
      padding: 2px 6px;
      font-size: 10px;
      background: #1a73e8;
      color: white;
      border-radius: 10px;
      margin-left: 8px;
    }
    .source-score.high {
      background: #34a853;
    }
    .source-score.medium {
      background: #fbbc04;
      color: #333;
    }
    .source-score.low {
      background: #ea4335;
    }
    
    /* Sources í† ê¸€ ë²„íŠ¼ */
    .sources-toggle {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 6px 10px;
      margin-top: 8px;
      background: #f1f3f4;
      border: none;
      border-radius: 16px;
      font-size: 12px;
      color: #5f6368;
      cursor: pointer;
      transition: background 0.2s;
    }
    .sources-toggle:hover {
      background: #e8eaed;
    }
    .sources-toggle .arrow {
      transition: transform 0.2s;
    }
    .sources-toggle.expanded .arrow {
      transform: rotate(180deg);
    }
    .sources-container {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
    }
    .sources-container.expanded {
      max-height: 500px;
    }
    
    /* íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„° */
    .typing-indicator {
      display: flex;
      gap: 4px;
      padding: 8px 12px;
    }
    .typing-indicator span {
      width: 8px;
      height: 8px;
      background: #1a73e8;
      border-radius: 50%;
      animation: bounce 1.4s infinite ease-in-out;
    }
    .typing-indicator span:nth-child(1) { animation-delay: 0s; }
    .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
    .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
    @keyframes bounce {
      0%, 80%, 100% { transform: scale(0); }
      40% { transform: scale(1); }
    }
    
    /* ì±„íŒ… ë©”íƒ€ë°ì´í„° */
    .chat-meta {
      font-size: 10px;
      color: #999;
      margin-top: 4px;
    }
    
    /* Progress Steps ìŠ¤íƒ€ì¼ */
    .step {
      transition: all 0.3s ease;
    }
    .step.active {
      color: #1a73e8;
      font-weight: 500;
    }
    .step.active .step-icon {
      color: #1a73e8;
      animation: pulse 1.5s infinite;
    }
    .step.completed {
      color: #34a853;
    }
    .step.completed .step-icon {
      color: #34a853;
    }
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
    
    /* Todo ì¹´ë“œ ìŠ¤íƒ€ì¼ */
    .todo-card {
      transition: all 0.2s ease;
    }
    .todo-card:hover {
      border-color: #1a73e8;
      box-shadow: 0 2px 4px rgba(26, 115, 232, 0.1);
    }
    .todo-checkbox:checked + div .todo-summary {
      color: #1a73e8;
    }
  </style>
</head>

<body class="bg-white text-gray-800 text-sm">
  <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
  <div id="app" class="flex flex-col h-screen">
    
    <!-- í—¤ë” -->
    <header class="bg-google-blue text-white px-4 py-3 flex items-center justify-between shadow-md">
      <div class="flex items-center gap-2">
        <span class="text-lg">ğŸ›ï¸</span>
        <h1 class="font-medium">Council-AI</h1>
      </div>
      <span id="user-email" class="text-xs opacity-80 truncate max-w-[120px]"></span>
    </header>
    
    <!-- íƒ­ ë„¤ë¹„ê²Œì´ì…˜ -->
    <nav class="flex border-b border-gray-200 bg-gray-50">
      <button class="tab-btn flex-1 py-3 px-2 text-center border-b-2 border-transparent hover:bg-gray-100 transition-colors" data-tab="chat">
        <span class="text-lg block">ğŸ’¬</span>
        <span class="text-xs text-google-gray">Chat</span>
      </button>
      <button class="tab-btn flex-1 py-3 px-2 text-center border-b-2 border-transparent hover:bg-gray-100 transition-colors" data-tab="docs">
        <span class="text-lg block">ğŸ“</span>
        <span class="text-xs text-google-gray">Docs</span>
      </button>
      <button class="tab-btn flex-1 py-3 px-2 text-center border-b-2 border-transparent hover:bg-gray-100 transition-colors" data-tab="calendar">
        <span class="text-lg block">ğŸ“…</span>
        <span class="text-xs text-google-gray">Calendar</span>
      </button>
      <button class="tab-btn flex-1 py-3 px-2 text-center border-b-2 border-transparent hover:bg-gray-100 transition-colors" data-tab="admin">
        <span class="text-lg block">âš™ï¸</span>
        <span class="text-xs text-google-gray">Admin</span>
      </button>
    </nav>
    
    <!-- íƒ­ ì½˜í…ì¸  ì˜ì—­ -->
    <main class="flex-1 overflow-hidden">
      
      <!-- ========== Chat Tab ========== -->
      <div id="chat-tab" class="tab-content active h-full flex flex-col">
        <!-- ì±„íŒ… íˆìŠ¤í† ë¦¬ -->
        <div id="chat-history" class="flex-1 overflow-y-auto p-4 space-y-4">
          <!-- ì›°ì»´ ë©”ì‹œì§€ -->
          <div class="text-center text-gray-500 py-8">
            <span class="text-4xl block mb-2">ğŸ¤–</span>
            <p class="text-sm">í•™ìƒíšŒ ë¬¸ì„œì— ëŒ€í•´ ë¬´ì—‡ì´ë“  ë¬¼ì–´ë³´ì„¸ìš”!</p>
            <p class="text-xs text-gray-400 mt-1">ì˜ˆ: "2024ë…„ ì¶•ì œ ì˜ˆì‚°ì€ ì–¼ë§ˆì˜€ë‚˜ìš”?"</p>
          </div>
        </div>
        
        <!-- ì±„íŒ… ì…ë ¥ -->
        <div class="border-t border-gray-200 p-3 bg-white">
          <div class="flex gap-2">
            <textarea 
              id="chat-input" 
              name="chat-input"
              class="flex-1 border border-gray-300 rounded-lg px-3 py-2 resize-none focus:outline-none focus:ring-2 focus:ring-google-blue focus:border-transparent"
              placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."
              rows="2"
            ></textarea>
            <button 
              id="chat-send-btn"
              class="bg-google-blue text-white px-4 rounded-lg hover:bg-google-blue-dark transition-colors flex items-center justify-center"
              title="ì „ì†¡"
            >
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
              </svg>
            </button>
          </div>
          <div class="flex justify-between mt-2 text-xs text-gray-400">
            <span>Shift+Enterë¡œ ì¤„ë°”ê¿ˆ</span>
            <button id="chat-clear-btn" class="text-red-500 hover:underline">ëŒ€í™” ì´ˆê¸°í™”</button>
          </div>
        </div>
      </div>
      
      <!-- ========== Docs Tab ========== -->
      <div id="docs-tab" class="tab-content h-full overflow-y-auto p-4">
        <div class="space-y-6">
          <!-- Smart Minutes ì„¹ì…˜ -->
          <section class="bg-white border border-gray-200 rounded-lg p-4">
            <h3 class="font-medium text-gray-800 mb-3 flex items-center gap-2">
              <span>ğŸ“‹</span> Smart Minutes (ê²°ê³¼ì§€ ìƒì„±)
            </h3>
            
            <!-- ì•ˆê±´ì§€ ì„ íƒ -->
            <div class="mb-4">
              <label class="block text-xs text-google-gray mb-1">ì•ˆê±´ì§€ *</label>
              <div class="flex gap-2">
                <input 
                  type="text" 
                  id="agenda-doc-id" 
                  name="agenda-doc-id"
                  class="flex-1 border border-gray-300 rounded px-3 py-2 text-sm bg-gray-50"
                  placeholder="Google Docs ID"
                  readonly
                >
                <button 
                  id="pick-agenda-btn"
                  class="picker-btn bg-white border border-gray-300 rounded px-3 py-2 hover:bg-gray-50 transition-colors text-sm"
                  data-target="agenda-doc-id"
                  data-type="doc"
                >
                  ğŸ“‚ ì„ íƒ
                </button>
              </div>
              <p id="agenda-doc-name" class="text-xs text-gray-500 mt-1 truncate"></p>
            </div>
            
            <!-- ì†ê¸°ë¡ ì„ íƒ -->
            <div class="mb-4">
              <label class="block text-xs text-google-gray mb-1">ì†ê¸°ë¡ *</label>
              <div class="flex gap-2">
                <input 
                  type="text" 
                  id="transcript-doc-id" 
                  name="transcript-doc-id"
                  class="flex-1 border border-gray-300 rounded px-3 py-2 text-sm bg-gray-50"
                  placeholder="Google Docs ID (í•„ìˆ˜)"
                  readonly
                >
                <button 
                  id="pick-transcript-btn"
                  class="picker-btn bg-white border border-gray-300 rounded px-3 py-2 hover:bg-gray-50 transition-colors text-sm"
                  data-target="transcript-doc-id"
                  data-type="doc"
                >
                  ğŸ“‚ ì„ íƒ
                </button>
              </div>
              <p id="transcript-doc-name" class="text-xs text-gray-500 mt-1 truncate"></p>
            </div>
            
            <!-- í…œí”Œë¦¿ ì„ íƒ (ì„ íƒ) -->
            <div class="mb-4">
              <label class="block text-xs text-google-gray mb-1">í…œí”Œë¦¿ (ì„ íƒ)</label>
              <div class="flex gap-2">
                <input 
                  type="text" 
                  id="template-doc-id" 
                  name="template-doc-id"
                  class="flex-1 border border-gray-300 rounded px-3 py-2 text-sm bg-gray-50"
                  placeholder="í…œí”Œë¦¿ ID (ë¯¸ì…ë ¥ì‹œ ì•ˆê±´ì§€ ë³µì‚¬)"
                  readonly
                >
                <button 
                  id="pick-template-btn"
                  class="picker-btn bg-white border border-gray-300 rounded px-3 py-2 hover:bg-gray-50 transition-colors text-sm"
                  data-target="template-doc-id"
                  data-type="doc"
                >
                  ğŸ“‚ ì„ íƒ
                </button>
              </div>
              <p id="template-doc-name" class="text-xs text-gray-500 mt-1 truncate"></p>
              <button 
                id="inspect-template-btn"
                class="text-xs text-google-blue hover:underline mt-1 disabled:opacity-50"
                disabled
              >
                ğŸ” í…œí”Œë¦¿ ê²€ì‚¬ (Placeholder í™•ì¸)
              </button>
            </div>
            
            <!-- íšŒì˜ ì •ë³´ -->
            <div class="grid grid-cols-2 gap-3 mb-4">
              <div>
                <label class="block text-xs text-google-gray mb-1">íšŒì˜ëª… *</label>
                <input 
                  type="text" 
                  id="meeting-name" 
                  name="meeting-name"
                  class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                  placeholder="ì˜ˆ: ì œ12ì°¨ ìš´ì˜ìœ„ì›íšŒ"
                >
              </div>
              <div>
                <label class="block text-xs text-google-gray mb-1">íšŒì˜ì¼ì *</label>
                <input 
                  type="date" 
                  id="meeting-date" 
                  name="meeting-date"
                  class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                >
              </div>
            </div>
            
            <!-- ì¶œë ¥ í´ë” -->
            <div class="mb-4">
              <label class="block text-xs text-google-gray mb-1">ì¶œë ¥ í´ë” (ì„ íƒ)</label>
              <div class="flex gap-2">
                <input 
                  type="text" 
                  id="output-folder-id" 
                  name="output-folder-id"
                  class="flex-1 border border-gray-300 rounded px-3 py-2 text-sm bg-gray-50"
                  placeholder="í´ë” ID"
                  readonly
                >
                <button 
                  id="pick-output-folder-btn"
                  class="picker-btn bg-white border border-gray-300 rounded px-3 py-2 hover:bg-gray-50 transition-colors text-sm"
                  data-target="output-folder-id"
                  data-type="folder"
                >
                  ğŸ“ ì„ íƒ
                </button>
              </div>
              <p id="output-folder-name" class="text-xs text-gray-500 mt-1 truncate"></p>
            </div>
            
            <!-- ìƒì„± ë²„íŠ¼ -->
            <button 
              id="generate-minutes-btn"
              class="w-full bg-google-blue text-white py-2.5 rounded-lg hover:bg-google-blue-dark transition-colors font-medium flex items-center justify-center gap-2"
            >
              <span>âœ¨</span> ê²°ê³¼ì§€ ìƒì„±
            </button>
            
            <!-- ì§„í–‰ ìƒíƒœ í‘œì‹œ (ë‹¨ê³„ë³„ ì²´í¬ë¦¬ìŠ¤íŠ¸) -->
            <div id="minutes-progress" class="hidden mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200">
              <div class="flex items-center justify-between mb-3">
                <p id="minutes-status-text" class="text-sm font-medium text-gray-700">ì²˜ë¦¬ ì¤‘...</p>
                <span id="minutes-elapsed-time" class="text-xs text-gray-500">0:00</span>
              </div>
              <div class="w-full bg-gray-200 rounded-full h-2 mb-4">
                <div id="minutes-progress-bar" class="bg-google-blue h-2 rounded-full transition-all" style="width: 0%"></div>
              </div>
              <!-- ë‹¨ê³„ë³„ ì²´í¬ë¦¬ìŠ¤íŠ¸ -->
              <div id="minutes-steps" class="space-y-2 text-xs">
                <div class="step flex items-center gap-2" data-step="parse">
                  <span class="step-icon text-gray-400">â¬œ</span>
                  <span>ë¬¸ì„œ íŒŒì‹± ì¤‘...</span>
                </div>
                <div class="step flex items-center gap-2" data-step="analyze">
                  <span class="step-icon text-gray-400">â¬œ</span>
                  <span>ì•ˆê±´ ë¶„ì„ ì¤‘...</span>
                </div>
                <div class="step flex items-center gap-2" data-step="generate">
                  <span class="step-icon text-gray-400">â¬œ</span>
                  <span>ê²°ê³¼ì§€ ìƒì„± ì¤‘...</span>
                </div>
                <div class="step flex items-center gap-2" data-step="finalize">
                  <span class="step-icon text-gray-400">â¬œ</span>
                  <span>ë¬¸ì„œ ì €ì¥ ì¤‘...</span>
                </div>
              </div>
            </div>
            
            <!-- ê²°ê³¼ í‘œì‹œ -->
            <div id="minutes-result" class="hidden mt-4 p-4 bg-green-50 border border-green-200 rounded-lg">
              <div class="flex items-center gap-2 mb-3">
                <span class="text-2xl">ğŸ‰</span>
                <div>
                  <p class="text-green-800 font-medium">ê²°ê³¼ì§€ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!</p>
                  <p id="minutes-result-time" class="text-xs text-green-600"></p>
                </div>
              </div>
              <div class="flex gap-2">
                <a 
                  id="minutes-result-link" 
                  href="javascript:void(0)" 
                  target="_blank"
                  class="flex-1 inline-flex items-center justify-center gap-2 bg-white border border-green-300 text-green-700 px-4 py-2 rounded hover:bg-green-50 transition-colors"
                >
                  ğŸ“„ ê²°ê³¼ì§€ ì—´ê¸°
                </a>
                <button 
                  id="minutes-copy-link-btn"
                  class="px-3 py-2 bg-white border border-green-300 text-green-700 rounded hover:bg-green-50 transition-colors"
                  title="ë§í¬ ë³µì‚¬"
                >
                  ğŸ“‹
                </button>
              </div>
            </div>
          </section>
        </div>
      </div>
      
      <!-- ========== Calendar Tab ========== -->
      <div id="calendar-tab" class="tab-content h-full overflow-y-auto p-4">
        <div class="space-y-6">
          <!-- Todo ì¶”ì¶œ ì„¹ì…˜ -->
          <section class="bg-white border border-gray-200 rounded-lg p-4">
            <h3 class="font-medium text-gray-800 mb-3 flex items-center gap-2">
              <span>ğŸ“…</span> í• ì¼ ì¶”ì¶œ & ìº˜ë¦°ë” ë“±ë¡
            </h3>
            <p class="text-xs text-gray-500 mb-4">ê²°ê³¼ì§€ì—ì„œ í• ì¼ì„ ì¶”ì¶œí•˜ê³ , ê²€í†  í›„ ìº˜ë¦°ë”ì— ë“±ë¡í•©ë‹ˆë‹¤.</p>
            
            <!-- ê²°ê³¼ì§€ ì„ íƒ -->
            <div class="mb-4">
              <label class="block text-xs text-google-gray mb-1">ê²°ê³¼ì§€ ì„ íƒ *</label>
              <div class="flex gap-2">
                <input 
                  type="text" 
                  id="calendar-source-doc-id" 
                  name="calendar-source-doc-id"
                  class="flex-1 border border-gray-300 rounded px-3 py-2 text-sm bg-gray-50"
                  placeholder="Google Docs ID"
                  readonly
                >
                <button 
                  id="pick-calendar-source-btn"
                  class="picker-btn bg-white border border-gray-300 rounded px-3 py-2 hover:bg-gray-50 transition-colors text-sm"
                  data-target="calendar-source-doc-id"
                  data-type="doc"
                >
                  ğŸ“‚ ì„ íƒ
                </button>
              </div>
              <p id="calendar-source-doc-name" class="text-xs text-gray-500 mt-1 truncate"></p>
            </div>
            
            <!-- ì¶”ì¶œ ë²„íŠ¼ -->
            <button 
              id="extract-todos-btn"
              class="w-full bg-google-blue text-white py-2.5 rounded-lg hover:bg-google-blue-dark transition-colors font-medium flex items-center justify-center gap-2"
            >
              <span>ğŸ”</span> í• ì¼ ì¶”ì¶œ
            </button>
            
            <!-- ì¶”ì¶œ ì§„í–‰ ìƒíƒœ -->
            <div id="extract-progress" class="hidden mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg">
              <div class="flex items-center gap-3">
                <div class="spinner"></div>
                <p class="text-sm text-blue-700">í• ì¼ì„ ì¶”ì¶œí•˜ê³  ìˆìŠµë‹ˆë‹¤...</p>
              </div>
            </div>
          </section>
          
          <!-- Todo ëª©ë¡ ì„¹ì…˜ -->
          <section id="todos-section" class="hidden">
            <div class="flex justify-between items-center mb-3">
              <h4 class="font-medium text-gray-800 flex items-center gap-2">
                ğŸ“‹ ì¶”ì¶œëœ í• ì¼ 
                <span id="todos-count" class="text-xs bg-google-blue text-white px-2 py-0.5 rounded-full">0</span>
              </h4>
              <label class="flex items-center gap-2 text-xs text-gray-600">
                <input type="checkbox" id="select-all-todos" name="select-all-todos" checked class="rounded">
                ì „ì²´ ì„ íƒ
              </label>
            </div>
            
            <!-- ì„ íƒëœ í•­ëª© ìˆ˜ í‘œì‹œ -->
            <div class="mb-3 text-xs text-gray-500">
              <span id="selected-todos-count">0</span>ê°œ ì„ íƒë¨
            </div>
            
            <!-- Todo ì¹´ë“œ ëª©ë¡ -->
            <div id="todos-list" class="space-y-3 max-h-[350px] overflow-y-auto">
              <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
            </div>
            
            <!-- ìº˜ë¦°ë” ë“±ë¡ ë²„íŠ¼ -->
            <button 
              id="register-todos-btn"
              class="w-full mt-4 bg-green-600 text-white py-2.5 rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center justify-center gap-2"
            >
              <span>ğŸ“…</span> ì„ íƒí•œ í•­ëª© ìº˜ë¦°ë” ë“±ë¡
            </button>
            
            <!-- ë“±ë¡ ì§„í–‰ ìƒíƒœ -->
            <div id="register-progress" class="hidden mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg">
              <div class="flex items-center justify-between mb-2">
                <p id="register-status-text" class="text-sm font-medium text-gray-700">ë“±ë¡ ì¤‘...</p>
                <span id="register-progress-count" class="text-xs text-gray-500">0/0</span>
              </div>
              <div class="w-full bg-gray-200 rounded-full h-2">
                <div id="register-progress-bar" class="bg-green-500 h-2 rounded-full transition-all" style="width: 0%"></div>
              </div>
            </div>
            
            <!-- ë“±ë¡ ê²°ê³¼ -->
            <div id="register-result" class="hidden mt-4 p-4 bg-green-50 border border-green-200 rounded-lg">
              <div class="flex items-center gap-2 mb-2">
                <span class="text-xl">âœ…</span>
                <p class="text-green-800 font-medium">ìº˜ë¦°ë” ë“±ë¡ ì™„ë£Œ!</p>
              </div>
              <div class="grid grid-cols-2 gap-2 text-sm">
                <div class="bg-white p-2 rounded border border-green-200">
                  <span class="text-green-600 font-medium" id="register-success-count">0</span>
                  <span class="text-gray-600">ê°œ ì„±ê³µ</span>
                </div>
                <div class="bg-white p-2 rounded border border-red-200">
                  <span class="text-red-600 font-medium" id="register-fail-count">0</span>
                  <span class="text-gray-600">ê°œ ì‹¤íŒ¨</span>
                </div>
              </div>
              <a 
                href="https://calendar.google.com" 
                target="_blank"
                class="mt-3 w-full inline-flex items-center justify-center gap-2 bg-white border border-green-300 text-green-700 px-4 py-2 rounded hover:bg-green-50 transition-colors text-sm"
              >
                ğŸ“… Google ìº˜ë¦°ë”ì—ì„œ í™•ì¸
              </a>
            </div>
          </section>
        </div>
      </div>
      
      <!-- ========== Admin Tab ========== -->
      <div id="admin-tab" class="tab-content h-full overflow-y-auto p-4">
        <div class="space-y-6">
          <!-- ìë£Œ í•™ìŠµ ì„¹ì…˜ -->
          <section class="bg-white border border-gray-200 rounded-lg p-4">
            <h3 class="font-medium text-gray-800 mb-3 flex items-center gap-2">
              <span>ğŸ“š</span> ìë£Œ í•™ìŠµ (Ingestion)
            </h3>
            <p class="text-xs text-gray-500 mb-4">Google Drive í´ë”ì˜ ë¬¸ì„œë¥¼ RAG ì‹œìŠ¤í…œì— í•™ìŠµì‹œí‚µë‹ˆë‹¤.</p>
            
            <div class="mb-4">
              <label class="block text-xs text-google-gray mb-1">í•™ìŠµ í´ë” ì„ íƒ *</label>
              <div class="flex gap-2">
                <input 
                  type="text" 
                  id="ingest-folder-id" 
                  name="ingest-folder-id"
                  class="flex-1 border border-gray-300 rounded px-3 py-2 text-sm bg-gray-50"
                  placeholder="í´ë” ID"
                  readonly
                >
                <button 
                  id="pick-ingest-folder-btn"
                  class="picker-btn bg-white border border-gray-300 rounded px-3 py-2 hover:bg-gray-50 transition-colors text-sm"
                  data-target="ingest-folder-id"
                  data-type="folder"
                >
                  ğŸ“ ì„ íƒ
                </button>
              </div>
              <p id="ingest-folder-name" class="text-xs text-gray-500 mt-1 truncate"></p>
            </div>
            
            <button 
              id="start-ingest-btn"
              class="w-full bg-purple-600 text-white py-2.5 rounded-lg hover:bg-purple-700 transition-colors font-medium flex items-center justify-center gap-2"
            >
              <span>ğŸš€</span> ìë£Œ í•™ìŠµ ì‹œì‘
            </button>
            
            <!-- ì¸ì œìŠ¤íŠ¸ ì§„í–‰ ìƒíƒœ -->
            <div id="ingest-progress" class="hidden mt-4 p-3 bg-gray-50 rounded-lg">
              <div class="flex items-center gap-3">
                <div class="spinner"></div>
                <p id="ingest-status-text" class="text-sm">í•™ìŠµ ì¤‘...</p>
              </div>
            </div>
          </section>
          
          <!-- ì¸ìˆ˜ì¸ê³„ì„œ ìƒì„± ì„¹ì…˜ -->
          <section class="bg-white border border-gray-200 rounded-lg p-4">
            <h3 class="font-medium text-gray-800 mb-3 flex items-center gap-2">
              <span>ğŸ“œ</span> ì¸ìˆ˜ì¸ê³„ì„œ ìƒì„±
            </h3>
            <p class="text-xs text-gray-500 mb-4">ì—°ë„ë³„ ì¸ìˆ˜ì¸ê³„ì„œë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•©ë‹ˆë‹¤.</p>
            
            <div class="grid grid-cols-2 gap-3 mb-4">
              <div>
                <label class="block text-xs text-google-gray mb-1">ëŒ€ìƒ ì—°ë„ *</label>
                <select id="handover-year" name="handover-year" class="w-full border border-gray-300 rounded px-3 py-2 text-sm">
                  <option value="2025">2025ë…„</option>
                  <option value="2024">2024ë…„</option>
                  <option value="2023">2023ë…„</option>
                </select>
              </div>
              <div>
                <label class="block text-xs text-google-gray mb-1">ë¶€ì„œ (ì„ íƒ)</label>
                <input 
                  type="text" 
                  id="handover-department" 
                  name="handover-department"
                  class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                  placeholder="ì˜ˆ: ë¬¸í™”êµ­"
                >
              </div>
            </div>
            
            <div class="mb-4">
              <label class="block text-xs text-google-gray mb-1">ì €ì¥ í´ë” (ì„ íƒ)</label>
              <div class="flex gap-2">
                <input 
                  type="text" 
                  id="handover-folder-id" 
                  name="handover-folder-id"
                  class="flex-1 border border-gray-300 rounded px-3 py-2 text-sm bg-gray-50"
                  placeholder="í´ë” ID"
                  readonly
                >
                <button 
                  id="pick-handover-folder-btn"
                  class="picker-btn bg-white border border-gray-300 rounded px-3 py-2 hover:bg-gray-50 transition-colors text-sm"
                  data-target="handover-folder-id"
                  data-type="folder"
                >
                  ğŸ“ ì„ íƒ
                </button>
              </div>
              <p id="handover-folder-name" class="text-xs text-gray-500 mt-1 truncate"></p>
            </div>
            
            <button 
              id="generate-handover-btn"
              class="w-full bg-orange-600 text-white py-2.5 rounded-lg hover:bg-orange-700 transition-colors font-medium flex items-center justify-center gap-2"
            >
              <span>ğŸ“œ</span> ì¸ìˆ˜ì¸ê³„ì„œ ìƒì„±
            </button>
            
            <!-- ì¸ìˆ˜ì¸ê³„ì„œ ì§„í–‰ ìƒíƒœ (ë‹¨ê³„ë³„ ì²´í¬ë¦¬ìŠ¤íŠ¸) -->
            <div id="handover-progress" class="hidden mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200">
              <div class="flex items-center justify-between mb-3">
                <p id="handover-status-text" class="text-sm font-medium text-gray-700">ìƒì„± ì¤‘...</p>
                <span id="handover-elapsed-time" class="text-xs text-gray-500">0:00</span>
              </div>
              <div class="w-full bg-gray-200 rounded-full h-2 mb-4">
                <div id="handover-progress-bar" class="bg-orange-500 h-2 rounded-full transition-all" style="width: 0%"></div>
              </div>
              <!-- ë‹¨ê³„ë³„ ì²´í¬ë¦¬ìŠ¤íŠ¸ -->
              <div id="handover-steps" class="space-y-2 text-xs">
                <div class="step flex items-center gap-2" data-step="collect">
                  <span class="step-icon text-gray-400">â¬œ</span>
                  <span>ê´€ë ¨ ë¬¸ì„œ ìˆ˜ì§‘ ì¤‘...</span>
                </div>
                <div class="step flex items-center gap-2" data-step="summarize">
                  <span class="step-icon text-gray-400">â¬œ</span>
                  <span>ë¬¸ì„œ ìš”ì•½ ì¤‘...</span>
                </div>
                <div class="step flex items-center gap-2" data-step="generate">
                  <span class="step-icon text-gray-400">â¬œ</span>
                  <span>ì¸ìˆ˜ì¸ê³„ì„œ ì‘ì„± ì¤‘...</span>
                </div>
                <div class="step flex items-center gap-2" data-step="finalize">
                  <span class="step-icon text-gray-400">â¬œ</span>
                  <span>ë¬¸ì„œ ì €ì¥ ì¤‘...</span>
                </div>
              </div>
            </div>
            
            <!-- ì¸ìˆ˜ì¸ê³„ì„œ ê²°ê³¼ -->
            <div id="handover-result" class="hidden mt-4 p-4 bg-green-50 border border-green-200 rounded-lg">
              <div class="flex items-center gap-2 mb-3">
                <span class="text-2xl">ğŸ“œ</span>
                <div>
                  <p class="text-green-800 font-medium">ì¸ìˆ˜ì¸ê³„ì„œê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!</p>
                  <p id="handover-result-time" class="text-xs text-green-600"></p>
                </div>
              </div>
              <div class="flex gap-2">
                <a 
                  id="handover-result-link" 
                  href="javascript:void(0)" 
                  target="_blank"
                  class="flex-1 inline-flex items-center justify-center gap-2 bg-white border border-green-300 text-green-700 px-4 py-2 rounded hover:bg-green-50 transition-colors"
                >
                  ğŸ“œ ì¸ìˆ˜ì¸ê³„ì„œ ì—´ê¸°
                </a>
                <button 
                  id="handover-copy-link-btn"
                  class="px-3 py-2 bg-white border border-green-300 text-green-700 rounded hover:bg-green-50 transition-colors"
                  title="ë§í¬ ë³µì‚¬"
                >
                  ğŸ“‹
                </button>
              </div>
            </div>
          </section>
          
          <!-- ì„¤ì • ì„¹ì…˜ -->
          <section class="bg-white border border-gray-200 rounded-lg p-4">
            <h3 class="font-medium text-gray-800 mb-3 flex items-center gap-2">
              <span>âš™ï¸</span> API ì„¤ì •
            </h3>
            
            <div class="space-y-4">
              <div>
                <label class="block text-xs text-google-gray mb-1">Backend API URL</label>
                <input 
                  type="text" 
                  id="settings-api-url" 
                  name="settings-api-url"
                  class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                  placeholder="https://your-backend.com/api/v1"
                >
              </div>
              <div>
                <label class="block text-xs text-google-gray mb-1">API Key</label>
                <input 
                  type="password" 
                  id="settings-api-key" 
                  name="settings-api-key"
                  class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                  placeholder="API Key ì…ë ¥"
                >
              </div>
              <div>
                <label class="block text-xs text-google-gray mb-1">Google Picker API Key (ì„ íƒ)</label>
                <input 
                  type="password" 
                  id="settings-picker-key" 
                  name="settings-picker-key"
                  class="w-full border border-gray-300 rounded px-3 py-2 text-sm"
                  placeholder="Picker API Key"
                >
              </div>
              
              <button 
                id="save-settings-btn"
                class="w-full bg-gray-800 text-white py-2.5 rounded-lg hover:bg-gray-900 transition-colors font-medium"
              >
                ğŸ’¾ ì„¤ì • ì €ì¥
              </button>
              
              <p id="settings-status" class="text-xs text-center text-gray-500"></p>
            </div>
          </section>
          
          <!-- í•™ìŠµëœ ë¬¸ì„œ ëª©ë¡ -->
          <section class="bg-white border border-gray-200 rounded-lg p-4">
            <div class="flex justify-between items-center mb-3">
              <h3 class="font-medium text-gray-800 flex items-center gap-2">
                <span>ğŸ“„</span> í•™ìŠµëœ ë¬¸ì„œ
              </h3>
              <button id="refresh-docs-btn" class="text-xs text-google-blue hover:underline">
                ğŸ”„ ìƒˆë¡œê³ ì¹¨
              </button>
            </div>
            
            <div id="documents-list" class="max-h-[200px] overflow-y-auto">
              <p class="text-xs text-gray-500 text-center py-4">ë¬¸ì„œ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
            </div>
          </section>
        </div>
      </div>
      
    </main>
    
    <!-- í† ìŠ¤íŠ¸ ë©”ì‹œì§€ ì»¨í…Œì´ë„ˆ -->
    <div id="toast-container" class="fixed top-4 right-4 z-50 space-y-2"></div>
    
    <!-- ê¸€ë¡œë²Œ ë¡œë”© ì˜¤ë²„ë ˆì´ -->
    <div id="loading-overlay" class="hidden fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-40">
      <div class="bg-white rounded-lg p-6 shadow-xl flex items-center gap-4">
        <div class="spinner"></div>
        <span id="loading-text" class="text-gray-700">ì²˜ë¦¬ ì¤‘...</span>
      </div>
    </div>
    
  </div>
  
  <!-- JavaScript -->
  <?!= include('Scripts'); ?>
  
</body>
</html>
